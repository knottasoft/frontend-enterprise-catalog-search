{"version":3,"sources":["../src/TypeaheadFacetDropdown.jsx"],"names":["React","PropTypes","debounce","Input","FacetDropdown","TypeaheadFacetDropdown","title","items","isBold","options","searchForItems","props","handleSearch","value","length","minLength","transformMenuOptions","menuOptions","event","currentTarget","placeholder","ariaLabel","propTypes","string","isRequired","oneOfType","arrayOf","node","bool","shape","number","func"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,SAASC,KAAT,QAAsB,cAAtB;AAEA,OAAOC,aAAP,MAA0B,iBAA1B;;AAEA,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,OAOzB;AAAA,MANJC,KAMI,QANJA,KAMI;AAAA,MALJC,KAKI,QALJA,KAKI;AAAA,MAJJC,MAII,QAJJA,MAII;AAAA,MAHJC,OAGI,QAHJA,OAGI;AAAA,MAFJC,cAEI,QAFJA,cAEI;AAAA,MADDC,KACC;;AACJ,MAAMC,YAAY,GAAGV,QAAQ,CAAC,UAACW,KAAD,EAAW;AACvC;AACA,QAAIA,KAAK,CAACC,MAAN,IAAgBL,OAAO,CAACM,SAAxB,IAAqCF,KAAK,CAACC,MAAN,KAAiB,CAA1D,EAA6D;AAC3DJ,MAAAA,cAAc,CAACG,KAAD,CAAd;AACD;AACF,GAL4B,EAK1B,GAL0B,CAA7B;;AAOA,MAAMG,oBAAoB,GAAG,SAAvBA,oBAAuB,CAAAC,WAAW;AAAA,wBACtC,uDACE;AAAK,MAAA,SAAS,EAAC;AAAf,oBACE,oBAAC,KAAD;AACE,MAAA,SAAS,MADX;AAEE,MAAA,IAAI,EAAC,QAFP;AAGE,MAAA,SAAS,EAAC,0BAHZ;AAIE,MAAA,QAAQ,EAAE,kBAAAC,KAAK;AAAA,eAAIN,YAAY,CAACM,KAAK,CAACC,aAAN,CAAoBN,KAArB,CAAhB;AAAA,OAJjB;AAKE,MAAA,WAAW,EAAEJ,OAAO,CAACW,WALvB;AAME,oBAAYX,OAAO,CAACY;AANtB,MADF,CADF,eAWE;AAAK,MAAA,SAAS,EAAC;AAAf,OACGJ,WADH,CAXF,CADsC;AAAA,GAAxC;;AAkBA,sBACE,oBAAC,aAAD;AACE,IAAA,KAAK,EAAED,oBAAoB,CAACT,KAAD,CAD7B;AAEE,IAAA,KAAK,EAAED,KAFT;AAGE,IAAA,MAAM,EAAEE,MAHV;AAIE,IAAA,SAAS,EAAC;AAJZ,KAKMG,KALN,EADF;AASD,CA1CD;;AA4CAN,sBAAsB,CAACiB,SAAvB,GAAmC;AACjChB,EAAAA,KAAK,EAAEL,SAAS,CAACsB,MAAV,CAAiBC,UADS;AAEjCjB,EAAAA,KAAK,EAAEN,SAAS,CAACwB,SAAV,CAAoB,CAACxB,SAAS,CAACyB,OAAV,CAAkBzB,SAAS,CAAC0B,IAA5B,CAAD,EAAoC1B,SAAS,CAAC0B,IAA9C,CAApB,EAAyEH,UAF/C;AAGjChB,EAAAA,MAAM,EAAEP,SAAS,CAAC2B,IAAV,CAAeJ,UAHU;AAIjCf,EAAAA,OAAO,EAAER,SAAS,CAAC4B,KAAV,CAAgB;AACvBT,IAAAA,WAAW,EAAEnB,SAAS,CAACsB,MAAV,CAAiBC,UADP;AAEvBH,IAAAA,SAAS,EAAEpB,SAAS,CAACsB,MAAV,CAAiBC,UAFL;AAGvBT,IAAAA,SAAS,EAAEd,SAAS,CAAC6B,MAAV,CAAiBN;AAHL,GAAhB,EAINA,UAR8B;AASjCd,EAAAA,cAAc,EAAET,SAAS,CAAC8B,IAAV,CAAeP;AATE,CAAnC;AAYA,eAAenB,sBAAf","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport debounce from 'lodash.debounce';\nimport { Input } from '@edx/paragon';\n\nimport FacetDropdown from './FacetDropdown';\n\nconst TypeaheadFacetDropdown = ({\n  title,\n  items,\n  isBold,\n  options,\n  searchForItems,\n  ...props\n}) => {\n  const handleSearch = debounce((value) => {\n    // when user is erasing the input and input is empty we need to reset the filtering\n    if (value.length >= options.minLength || value.length === 0) {\n      searchForItems(value);\n    }\n  }, 200);\n\n  const transformMenuOptions = menuOptions => (\n    <>\n      <div className=\"pr-2 pl-2 pb-2\">\n        <Input\n          autoFocus\n          type=\"search\"\n          className=\"typeahead-dropdown-input\"\n          onChange={event => handleSearch(event.currentTarget.value)}\n          placeholder={options.placeholder}\n          aria-label={options.ariaLabel}\n        />\n      </div>\n      <div className=\"typeahead-dropdown-menu-scrollable-items\">\n        {menuOptions}\n      </div>\n    </>\n  );\n\n  return (\n    <FacetDropdown\n      items={transformMenuOptions(items)}\n      title={title}\n      isBold={isBold}\n      className=\"typeahead\"\n      {...props}\n    />\n  );\n};\n\nTypeaheadFacetDropdown.propTypes = {\n  title: PropTypes.string.isRequired,\n  items: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]).isRequired,\n  isBold: PropTypes.bool.isRequired,\n  options: PropTypes.shape({\n    placeholder: PropTypes.string.isRequired,\n    ariaLabel: PropTypes.string.isRequired,\n    minLength: PropTypes.number.isRequired,\n  }).isRequired,\n  searchForItems: PropTypes.func.isRequired,\n};\n\nexport default TypeaheadFacetDropdown;\n"],"file":"TypeaheadFacetDropdown.js"}